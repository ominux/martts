\section{Introduction} \label{sec:intro}

Universal memory that provides fast random access, high storage density, and non-volatility within one memory technology becomes possible thanks to the emergence of various new non-volatile memory~(NVM) technologies, such as spin-torque-transfer random-access memory~(STT-RAM, or MRAM), phase-change random-access memory~(PCRAM), and resistive random-access memory~(ReRAM). As the ultimate
goal of these NVM research is to devise a universal memory that could work across multiple layers of the memory hierarchy, each of these emerging NVM technologies has to supply a wide design space that covers a spectrum from highly latency-optimized microprocessor caches to highly density-optimized secondary storage. Among the emerging NVM technologies, STT-RAM is one of the most promising candidates that has the potential to meet all the requirement of universal memory~\cite{STTRAM:Review10B,STTRAM:Review10A}. And realization of STT-RAM based universal memory seems to be more practical in low power embedded system rather than high performance computer thanks to less demanding performance requirement and more constrains on power budget and batter life.

STT-RAM was invented as the second generation of Magnetic RAM (MRAM)~\cite{STTRAM:IEDM05} to conquer the two major problems for conventional MRAM: high write energy and poor scalability. Conventional MRAM uses the magnetic fields produced by electrical currents
to change the resistance of the MTJ and the required current increases as technology scales down. The major drawback required current However, in STT-RAM, by applying the spin polarized current through the MTJ element to switch the memory states, the required switching current decreases as technology scales down. Thus STT-RAM is projected to scale beyond 20nm technology node even without any material improvement~\cite{STTRAM:Grandis11}. To further reduce switching current and switching time, Perpendicular MTJs (PMTJ) for STT-RAM were developed~\cite{PMTJ:APL06,PMTJ:APL11,PMTJ:Grandis10,PMTJ:Toshiba08,PMTJ:Xiaochun06} to achieve very low switching current while maintaining relative high thermal stability for non-volatility of STT-RAM. To the best of our knowledge, we are the first to explore the design space of such perpendicular STT-RAM in architecture-level research and it's surprised to see the competitive results of PMTJ versus SRAM even as L1 cache replacement.

Experiments have been performed in device-level research in order to operate a MTJ (magnetic tunnel junction) at minimum energy or energy-delay-product~(EDP) by applying varied write pulse width on MTJ. However, the optimal operating write pulse width from cell-level point of view is not necessarily the best operating point from system-level point of view. Normally an STT-RAM memory cell consists of an access transistor in serial with a MTJ. Short write pulse induced large switching current requires large access transistor for providing enough driving current, which consequently brings more circuit design challenges of the STT-RAM prototype. Specifically, it worsens the area, latency, dynamic energy and leakage power of both memory cells and peripheral circuitry.  Thus it's imperative to offer a methodology for system-level analysis of the memory macro to quantitatively address the trade-off of all the metrics of STT-RAM.

In this work, we implement a system-level performance, energy, and area model to estimate the impact of different write pulse width on the STT-RAM macro design. We then develop a detailed device-architecture co-optimization methodology to design STT-RAM macro with different optimization goals such as area, read latency/energy, write latency, write energy by leveraging the inherent trade-off of write current and write time of MTJ. The results have potential impact on the guidelines for designing a STT-cache in different memory hierarchical levels with different capacities and different optimization goals.

The rest of the paper is organized as follows: Section~\ref{sec:relate} presents related work. Section~\ref{sec:prelim} discusses the basics of STT-RAM and inherent trade-off of write current and write time of MTJ. Section~\ref{sec:model} provides a system-level modeling of STT-RAM macro. Section~\ref{sec:opt} analyzes the optimization methodology of STT-RAM with different optimization goals. Section~\ref{sec:case} shows a case study of replacing L1 cache with STT-RAM in embedded system. Section~\ref{sec:conclusion} concludes our work.

\begin{comment}
Comment Paragraph
\end{comment} 